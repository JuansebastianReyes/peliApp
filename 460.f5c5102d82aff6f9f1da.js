(self.webpackChunkpeli_app=self.webpackChunkpeli_app||[]).push([[460],{5460:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ModuleTwoModule:()=>v});var r=i(1116),a=i(1462),o=i(3319),l=i(8619),n=i(6939);function s(t,e){if(1&t&&(l.TgZ(0,"tr"),l.TgZ(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.qZA()),2&t){const t=e.$implicit;l.xp6(2),l.Oqu(t.Name),l.xp6(2),l.Oqu(t.Contry),l.xp6(2),l.Oqu(t.Rating)}}function u(t,e){if(1&t&&(l.TgZ(0,"table",5),l.TgZ(1,"thead",6),l.TgZ(2,"tr"),l.TgZ(3,"th",7),l._uU(4,"Nombre"),l.qZA(),l.TgZ(5,"th",7),l._uU(6,"Pais"),l.qZA(),l.TgZ(7,"th",7),l._uU(8,"Rating"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"tbody"),l.YNc(10,s,7,3,"tr",8),l.qZA(),l.qZA()),2&t){const t=l.oxw();l.xp6(10),l.Q6J("ngForOf",t.movies)}}function c(t,e){1&t&&(l.TgZ(0,"div",9),l.TgZ(1,"div",10),l.TgZ(2,"h5"),l._uU(3," No hay peliculas por mostrar "),l.qZA(),l.TgZ(4,"button",11),l._uU(5,"Nuevo"),l.qZA(),l.qZA(),l.qZA())}let g=(()=>{class t{constructor(t){this._peliculasServise=t,this.movies=[]}ngOnInit(){this.getPeliculas()}getPeliculas(){this._peliculasServise.getPeliculas().subscribe(t=>{this.movies=t,console.log(t)})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(n.Y))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-top"]],decls:7,vars:2,consts:[[1,"container"],[1,"titulo","text-center"],[1,"table-responsive"],["class","table table-bordered table-striped",4,"ngIf"],["class","card text-white bg-dark",4,"ngIf"],[1,"table","table-bordered","table-striped"],[1,"table-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"card","text-white","bg-dark"],[1,"card-body","text-center"],["type","button","routerLink","/modulo2/agregar",1,"btn","btn-success"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h3"),l._uU(3,"Top Peliculas"),l.qZA(),l.qZA(),l.TgZ(4,"div",2),l.YNc(5,u,11,1,"table",3),l.qZA(),l.YNc(6,c,6,0,"div",4),l.qZA()),2&t&&(l.xp6(5),l.Q6J("ngIf",e.movies.length>0),l.xp6(1),l.Q6J("ngIf",0==e.movies.length))},directives:[r.O5,r.sg,o.rH],styles:[""]}),t})();var d=i(3492);function p(t,e){1&t&&(l.TgZ(0,"div",14),l.TgZ(1,"span"),l._uU(2,"El Nombre del la pelicula es "),l.TgZ(3,"strong"),l._uU(4,"Obligatorio"),l.qZA(),l.qZA(),l.qZA())}function Z(t,e){1&t&&(l.TgZ(0,"div",14),l.TgZ(1,"span"),l._uU(2,"El pa\xeds del la pelicula es "),l.TgZ(3,"strong"),l._uU(4,"Obligatorio"),l.qZA(),l.qZA(),l.qZA())}function m(t,e){1&t&&(l.TgZ(0,"div",14),l.TgZ(1,"span"),l._uU(2,"La calificaci\xf3n del la pelicula es "),l.TgZ(3,"strong"),l._uU(4,"Obligatoria"),l.qZA(),l.qZA(),l.qZA())}let h=(()=>{class t{constructor(t,e,i,r,o){this._peliculasServise=t,this.fb=e,this.router=i,this.toastr=r,this.aRouter=o,this.titulo="Agregar Pelicula",this.peliculaForm=this.fb.group({Name:["",a.kI.required],Contry:["",a.kI.required],Rating:["",a.kI.required]}),this.id=this.aRouter.snapshot.paramMap.get("id")}ngOnInit(){this.esEditar()}agregarPelicula(){var t,e,i;const r={Name:null===(t=this.peliculaForm.get("Name"))||void 0===t?void 0:t.value,Contry:null===(e=this.peliculaForm.get("Contry"))||void 0===e?void 0:e.value,Rating:null===(i=this.peliculaForm.get("Rating"))||void 0===i?void 0:i.value};null!==this.id?(console.log(r.ID),this._peliculasServise.actializarPelicula(Number(this.id),r).subscribe(t=>{this.toastr.info("La pelicula fue actualizada con exito!","Pelicula Acrualizado!"),this.router.navigate(["/modulo1/lista"])}),this.toastr.info("La pelicula fue actualizada con exito!","Pelicula Acrualizado!"),this.router.navigate(["/modulo1/lista"])):(console.log(r),this._peliculasServise.agrearPeliculas(r).subscribe(t=>{console.log("Agregado"),this.toastr.success("La pelicula fue registrada con exito!","Pelicula Registrada!"),this.router.navigate(["/modulo1/lista"])}))}esEditar(){null!==this.id&&(this.titulo="Editar Producto",this._peliculasServise.getPelicula(Number(this.id)).subscribe(t=>{this.peliculaForm.setValue({Name:t.Name,Contry:t.Contry,Rating:t.Rating})}))}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(n.Y),l.Y36(a.qu),l.Y36(o.F0),l.Y36(d._W),l.Y36(o.gz))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-agregar"]],decls:22,vars:6,consts:[[1,"container","mt-5"],[1,"row"],[1,"col-sm-6","offset-lg-3"],[1,"card","border-dark"],[1,"card-header","bg-dark","text-white","text-center"],[3,"formGroup","ngSubmit"],[1,"card-body","text-dark"],[1,"form-group"],["type","text","formControlName","Name","placeholder","Nombre",1,"form-control","form-control-lg"],["class","text-danger",4,"ngIf"],["type","text","formControlName","Contry","placeholder","Pa\xeds",1,"form-control","form-control-lg"],["type","text","formControlName","Rating","placeholder","Calificaci\xf3n",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-primary","btn-lg","mb-3","float-right",3,"disabled"],["routerLink","/modulo1/lista","type","button",1,"btn","btn-danger","btn-lg","mb-3","float-left"],[1,"text-danger"]],template:function(t,e){1&t&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"div",3),l.TgZ(4,"div",4),l._uU(5),l.qZA(),l.TgZ(6,"form",5),l.NdJ("ngSubmit",function(){return e.agregarPelicula()}),l.TgZ(7,"div",6),l.TgZ(8,"div",7),l._UZ(9,"input",8),l.YNc(10,p,5,0,"div",9),l.qZA(),l.TgZ(11,"div",7),l._UZ(12,"input",10),l.YNc(13,Z,5,0,"div",9),l.qZA(),l.TgZ(14,"div",7),l._UZ(15,"input",11),l.YNc(16,m,5,0,"div",9),l.qZA(),l.TgZ(17,"div"),l.TgZ(18,"button",12),l._uU(19," Enviar "),l.qZA(),l.TgZ(20,"button",13),l._uU(21," Lista "),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(5),l.hij(" ",e.titulo," "),l.xp6(1),l.Q6J("formGroup",e.peliculaForm),l.xp6(4),l.Q6J("ngIf",e.peliculaForm.get("Name").hasError("required")&&e.peliculaForm.get("Name").touched),l.xp6(3),l.Q6J("ngIf",e.peliculaForm.get("Contry").hasError("required")&&e.peliculaForm.get("Contry").touched),l.xp6(3),l.Q6J("ngIf",e.peliculaForm.get("Rating").hasError("required")&&e.peliculaForm.get("Rating").touched),l.xp6(2),l.Q6J("disabled",e.peliculaForm.invalid))},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,r.O5,o.rH],encapsulation:2}),t})();const b=[{path:"top",component:g},{path:"editar/:id",component:h},{path:"agregar",component:h}];let f=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[o.Bz.forChild(b)],o.Bz]}),t})(),v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[r.ez,f,a.UX]]}),t})()}}]);